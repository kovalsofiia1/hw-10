{"version":3,"file":"commonHelpers.js","sources":["../src/img/bi_x-octagon.svg","../src/js/1-timer.js"],"sourcesContent":["export default \"__VITE_ASSET__3108d0c6__\"","\nimport flatpickr from \"flatpickr\";\nimport \"flatpickr/dist/flatpickr.min.css\";\n\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport iconUrl from '../img/bi_x-octagon.svg';\n\n\nconst startButton = document.querySelector('button[data-start]');\nconst daysI = document.querySelector('span[data-days]');\nconst hoursI = document.querySelector('span[data-hours]');\nconst minutesI = document.querySelector('span[data-minutes]');\nconst secondsI = document.querySelector('span[data-seconds]');\n\ndisableButton();\n\n\nlet userSelectedDate = null;\nlet intervalID = null;\n\nflatpickr(\"#datetime-picker\", {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n    onClose(selectedDates) {\n        resetTimer();\n        selectDate(selectedDates[0]);\n  },\n})\n\n\nstartButton.addEventListener('click', () => {\n    intervalID = setInterval(setTimer, 1000);\n})\n\nfunction stopTimer(){\n    clearInterval(intervalID);\n}\n\nfunction resetTimer() {\n    stopTimer();\n    daysI.textContent = formatNumber(0);\n    hoursI.textContent = formatNumber(0);\n    minutesI.textContent = formatNumber(0);\n    secondsI.textContent = formatNumber(0);\n\n}\n\nfunction disableButton() {\n    startButton.disabled = true;\n}\nfunction enableButton() {\n    startButton.disabled = false;\n}\n\nfunction checkDate(date) {\n    console.log(date);\n    console.log(date.getTime());\n    if (date.getTime() < Date.now()) {\n        return false;\n    }\n    else {\n        return true;\n    }\n}\n\nfunction selectDate(date) {\n    const check = checkDate(date);\n    if (check) {\n        userSelectedDate = date;\n        enableButton();\n        setTimer();\n       \n    } else {\n        iziToast.show({\n            class:'',\n            title: 'Error',\n            message: 'Please choose a date in the future!',\n            position: 'topRight',\n            titleColor:'white',\n            messageColor: 'white',\n            backgroundColor: 'red',\n            \n            iconUrl: `${iconUrl}`,\n            iconColor:'white',\n        });\n       \n        disableButton();\n        \n    }\n}\n\nfunction setTimer() {\n    const { days, hours, minutes, seconds } = convertMs(userSelectedDate.getTime() - Date.now());\n    if (days === 0 && hours === 0 && minutes === 0 && seconds === 0) {\n        stopTimer();\n    }\n    daysI.textContent = formatNumber(days);\n    hoursI.textContent = formatNumber(hours);\n    minutesI.textContent = formatNumber(minutes);\n    secondsI.textContent = formatNumber(seconds);\n\n}\n\nfunction formatNumber(number) {\n    if (number < 10) {\n        return '0' + number + '';\n    }\n    else {\n        return number + '';\n    }\n}\n\nfunction convertMs(ms) {\n  // Number of milliseconds per unit of time\n  const second = 1000;\n  const minute = second * 60;\n  const hour = minute * 60;\n  const day = hour * 24;\n\n  // Remaining days\n  const days = Math.floor(ms / day);\n  // Remaining hours\n  const hours = Math.floor((ms % day) / hour);\n  // Remaining minutes\n  const minutes = Math.floor(((ms % day) % hour) / minute);\n  // Remaining seconds\n  const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n\n  return { days, hours, minutes, seconds };\n}\n\n"],"names":["iconUrl","startButton","daysI","hoursI","minutesI","secondsI","disableButton","userSelectedDate","intervalID","flatpickr","selectedDates","resetTimer","selectDate","setTimer","stopTimer","formatNumber","enableButton","checkDate","date","iziToast","days","hours","minutes","seconds","convertMs","number","ms"],"mappings":"2GAAA,MAAeA,EAAA,0CCSTC,EAAc,SAAS,cAAc,oBAAoB,EACzDC,EAAQ,SAAS,cAAc,iBAAiB,EAChDC,EAAS,SAAS,cAAc,kBAAkB,EAClDC,EAAW,SAAS,cAAc,oBAAoB,EACtDC,EAAW,SAAS,cAAc,oBAAoB,EAE5DC,IAGA,IAAIC,EAAmB,KACnBC,EAAa,KAEjBC,EAAU,mBAAoB,CAC5B,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACf,QAAQC,EAAe,CACnBC,IACAC,EAAWF,EAAc,EAAE,CAChC,CACH,CAAC,EAGDT,EAAY,iBAAiB,QAAS,IAAM,CACxCO,EAAa,YAAYK,EAAU,GAAI,CAC3C,CAAC,EAED,SAASC,GAAW,CAChB,cAAcN,CAAU,CAC5B,CAEA,SAASG,GAAa,CAClBG,IACAZ,EAAM,YAAca,EAAa,CAAC,EAClCZ,EAAO,YAAcY,EAAa,CAAC,EACnCX,EAAS,YAAcW,EAAa,CAAC,EACrCV,EAAS,YAAcU,EAAa,CAAC,CAEzC,CAEA,SAAST,GAAgB,CACrBL,EAAY,SAAW,EAC3B,CACA,SAASe,GAAe,CACpBf,EAAY,SAAW,EAC3B,CAEA,SAASgB,EAAUC,EAAM,CAGrB,OAFA,QAAQ,IAAIA,CAAI,EAChB,QAAQ,IAAIA,EAAK,QAAS,CAAA,EACtB,EAAAA,EAAK,QAAO,EAAK,KAAK,IAAG,EAMjC,CAEA,SAASN,EAAWM,EAAM,CACRD,EAAUC,CAAI,GAExBX,EAAmBW,EACnBF,IACAH,MAGAM,EAAS,KAAK,CACV,MAAM,GACN,MAAO,QACP,QAAS,sCACT,SAAU,WACV,WAAW,QACX,aAAc,QACd,gBAAiB,MAEjB,QAAS,GAAGnB,IACZ,UAAU,OACtB,CAAS,EAEDM,IAGR,CAEA,SAASO,GAAW,CAChB,KAAM,CAAE,KAAAO,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAS,EAAGC,EAAUjB,EAAiB,QAAS,EAAG,KAAK,IAAK,CAAA,EACvFa,IAAS,GAAKC,IAAU,GAAKC,IAAY,GAAKC,IAAY,GAC1DT,IAEJZ,EAAM,YAAca,EAAaK,CAAI,EACrCjB,EAAO,YAAcY,EAAaM,CAAK,EACvCjB,EAAS,YAAcW,EAAaO,CAAO,EAC3CjB,EAAS,YAAcU,EAAaQ,CAAO,CAE/C,CAEA,SAASR,EAAaU,EAAQ,CAC1B,OAAIA,EAAS,GACF,IAAMA,EAGNA,EAAS,EAExB,CAEA,SAASD,EAAUE,EAAI,CAQrB,MAAMN,EAAO,KAAK,MAAMM,EAAK,KAAG,EAE1BL,EAAQ,KAAK,MAAOK,EAAK,MAAO,IAAI,EAEpCJ,EAAU,KAAK,MAAQI,EAAK,MAAO,KAAQ,GAAM,EAEjDH,EAAU,KAAK,MAASG,EAAK,MAAO,KAAQ,IAAU,GAAM,EAElE,MAAO,CAAE,KAAAN,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CACxC"}